
//
// Copyright © 2016-present Kary Foundation, Inc. All Rights Reserved
//   Author: Pouya Kary <k@karyfoundation.org>
//
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
//

//
// ─── IMPORTS ────────────────────────────────────────────────────────────────────
//

    @import '../../globals';

//
// ─── VARS ───────────────────────────────────────────────────────────────────────
//

    @open-close-duration: 0.4s;

//
// ─── EDITOR CONTAINER ───────────────────────────────────────────────────────────
//

    #quartet-editor-container {
        height: ~'calc( 100vh - 110px )';
        width: ~'calc( 100vw + 220pt )';
        overflow: hidden;
        display: flex;
    }

//
// ─── QUARTET CODING VIEW ─────────────────────────────────────────────────────────
//

    #quartet-coding-view {
        //transition-duration: @open-close-duration;
        flex: 1;
        height: inherit !important;
        background-color: var( --kary-background );
        width: 100vw;
        max-width: 100vw;
        transition: width @open-close-duration, max-width @open-close-duration;
    }

//
// ─── CONSOLE VIEW ───────────────────────────────────────────────────────────────
//

    #quartet-console-view {
        user-select: none;
        //transition-duration: @open-close-duration;
        flex: 1;
        height: inherit !important;
        max-width: 0;
        background-color: var( --side-console-background );
        box-sizing: border-box;
        overflow: hidden;
        transition: max-width @open-close-duration;
        border-left: 1pt var( --side-console-border-color ) solid;
        color: var( --side-console-title-color );
        min-width: 220pt;
    }

//
// ─── SIDE BAR CONTAINER ─────────────────────────────────────────────────────────
//

    #side-bar-container {
        height: ~'calc( 100vh - 110px )';
        display: flex;
        flex-direction: column;

        .console-sidebar-spacer {
            max-height: fit-content;
            border-bottom: 1pt var( --side-console-border-color ) solid;
            padding-top: 10pt;
            margin-bottom: 2pt;
        }
    }

    .flex-fixed {
        flex:       auto;
        height:     fit-content;
        max-height: fit-content;
        min-height: fit-content;
    }

//
// ─── HIDE CONSOLE ───────────────────────────────────────────────────────────────
//

    .show-console-view {
        #quartet-console-view {
            max-width: 220pt !important;
            transition: max-width @open-close-duration;
            // transition-duration: @open-close-duration;
        }
        #quartet-coding-view {
            //transition-duration: @open-close-duration;
            width: ~'calc( 100vw - 220pt )' !important;
            max-width: ~'calc( 100vw - 220pt )' !important;
            transition: width @open-close-duration, max-width @open-close-duration;
        }
    }

//
// ─── CONSOLE VIEW ───────────────────────────────────────────────────────────────
//

    .console-sidebar-title {
        font-size: 0.9rem;
        padding: 10pt;
        padding-bottom: 7pt;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 2pt;
    }

//
// ─── CONSOLE CONTENT ────────────────────────────────────────────────────────────
//

    #orchestra-console-view-content {
        padding-left: 13pt;
        color: var( --console-regexp );
        width: 200pt;
        font-size: 12pt;
        font-family: @source-code-pro-typeface;
        word-wrap: break-word;
        line-height: 1.8;
        overflow-y: scroll;
        margin-bottom: 13pt;
        max-height: ~'calc( 100% - 30pt )';
        letter-spacing: 2pt;
    }

    #orchestra-console-view-flags {
        display:            flex;
        justify-content:    flex-start;

        .sidebar-flags {
            @sidebar-flag-size:     30pt;
            background-color:       var( --side-console-flag-inactive-back );
            color:                  var( --side-console-flag-inactive-color );
            border-radius:          3pt;
            font-family:            @source-code-pro-typeface;
            width:                  @sidebar-flag-size;
            height:                 @sidebar-flag-size;
            max-width:              @sidebar-flag-size;
            margin-left:            10pt;
            text-align:             center;
            vertical-align:         center;
            font-size:              18pt;
            flex:                   1;

            &.active {
                background-color:   var( --side-console-flag-active-back );
                color:              var( --side-console-flag-active-color );
            }
        }
    }

//
// ─── QUICK TEST VIEW ────────────────────────────────────────────────────────────
//

    #quick-test-view {
        min-height: 140pt;
        overflow: scroll;
    }

//
// ─── CONSOLE NEW TEST ───────────────────────────────────────────────────────────
//

    #console-new-test {
        align-self: flex-end;
        color: var( --kary-green );
    }

// ────────────────────────────────────────────────────────────────────────────────
